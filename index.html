<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Notes</title>
  </head>
  <body onload="onLoad()">
    <h1>Notes</h1>
    <textarea rows="15" cols="80" form="text"></textarea>
    <form id="text" method=POST action="#notes/">
    <input type="submit"></form>
    <div id="app"></div>
    <div id="note"></div>

    <!-- models -->
    <script src="models/note-model.js"></script>
    <script src="models/note-list-model.js"></script>

    <!-- views -->
    <script src="views/note-list-view.js"></script>
    <script src="views/single-note-view.js"></script>

    <!-- controllers -->
    <script src="controllers/note-controller.js"></script>
    <script src="controllers/event-controller.js"></script>

    <!-- listeners -->
    <script src="listeners/hash-changed.js"></script>
    <script src="listeners/form-submitted.js"></script>

    <!-- services -->
    <script src="services/injector.js"></script>

    <script>

    function onLoad() {
      var noteList = new NoteList();
      var noteListView = new NoteListView(noteList);
      var noteController = new NoteController(noteListView);
      var injector = new Injector();
      var hashChanged = new HashChanged(injector, noteController);
      var formSubmitted = new FormSubmitted(injector, noteController);
      var eventController = new EventController();
      eventController.register("submit", formSubmitted);
      eventController.register("hashchange", hashChanged);
    };

    </script>

  </body>
</html>
